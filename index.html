<!DOCTYPE html>
<html lang="zh" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>PSFree 9.00 可缓存免USB版 - 破解页</title>
  <link rel="stylesheet" href="style.css">
  <style>
    @font-face {
      font-family: 'logging';
      src: url('fonts/LiberationMono-Regular.ttf');
    }

    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #e0eafc, #cfdef3);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
      text-align: center;
    }

    h1 {
      font-size: 30px;
      color: #1a237e;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 10px;
    }

    hr {
      border: none;
      border-top: 1px solid #bbb;
      margin: 20px 0 40px;
    }

    .warning, .success {
      background-color: rgba(255, 255, 255, 0.85);
      border-left: 5px solid;
      padding: 20px;
      margin: 30px 0;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      text-align: left;
    }

    .warning {
      border-color: #f44336;
    }

    .success {
      border-color: #4CAF50;
    }

    .warning-title {
      font-weight: bold;
      font-size: 20px;
      color: #b71c1c;
      text-align: center;
      margin-bottom: 12px;
    }

    .warning ul {
      list-style: disc inside;
      padding-left: 0;
      margin: 0;
    }

    .warning li {
      margin-bottom: 0.6em;
    }

    #progress h1 {
      font-size: 24px;
      color: #0d47a1;
      margin: 60px 0 300px;
    }

    #status_msg {
      font-size: 22px;
      color: #2e7d32;
      text-align: center;
      font-weight: bold;
    }

    #console {
      font-family: 'logging', monospace;
      background: #1e1e1e;
      color: #00ff00;
      padding: 15px;
      border-radius: 8px;
      margin-top: 30px;
      box-shadow: inset 0 0 10px rgba(0, 255, 0, 0.2);
      overflow-x: auto;
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 24px;
      }

      #progress h1 {
        font-size: 20px;
      }

      #status_msg {
        font-size: 18px;
      }
    }
  </style>
  <script>
    if (window.applicationCache && window.applicationCache.status === 0) {
      window.location.replace("cache.html");
    }

    window.addEventListener('load', function () {
      checkGoldHENStatus();
    });

    function checkGoldHENStatus() {
      if (window.localStorage.getItem('goldhen_activated') === 'true') {
        showSuccess();
        return true;
      }

      try {
        if (window.goldhen_loaded === true) {
          showSuccess();
          return true;
        }
      } catch (e) { }

      return false;
    }

    function showSuccess() {
      document.getElementById('progress').style.display = 'none';
      document.getElementById('menu').style.display = 'block';
      document.getElementById('status_msg').innerHTML = "GoldHEN 已激活 ✔";
    }

    function goldhenSuccess() {
      window.localStorage.setItem('goldhen_activated', 'true');
      window.goldhen_loaded = true;
      showSuccess();
    }

    window.allset = function () {
      goldhenSuccess();
    };

    document.addEventListener('DOMNodeInserted', function (e) {
      if (e.target && e.target.textContent) {
        const text = e.target.textContent.toLowerCase();
        if (text.includes('jailbreak has been successful') ||
            text.includes('goldhen') ||
            text.includes('goldhen already injected')) {
          goldhenSuccess();
        }
      }
    });

    document.addEventListener('keydown', function (e) {
      if (e.keyCode === 88 || e.key === 'x' || e.key === 'X') {
        setTimeout(goldhenSuccess, 500);
      }
    });
  </script>
</head>
<body>
  <div class="container">
    <h1>PSFree 9.00 可缓存免USB版 - 破解页</h1>
    <p style="background: rgba(255,255,255,0.5); padding: 10px; border-radius: 8px; font-weight: bold;">
      本站由 <strong>xxKawa</strong> 制作
      <strong>❤Love with Mizu❤</strong>
    </p>
    <p style="font-size: 16px; color: #555; margin-top: -10px; margin-bottom: 10px;">
      Support with <strong>SiSTR0 kmeps4 anonymous</strong>
    </p>
    <span id="busuanzi_container_site_pv">本站已经帮助<span id="busuanzi_value_site_pv"></span>台PS4完成破解。</span>
    <hr>

    <div class="warning">
      <div class="warning-title">使用须知</div>
      <ul>
        <li>请注意：初次打开网页时漏洞可能无法注入，若出现内存不足等报错请重启设备后重新破解。</li>
        <li>该网站基于由abc发掘的PSFree漏洞开发，使用时不需要插入USB设备。</li>
        <li>破解完成后，会自动注入GoldHEN。</li>
      </ul>
    </div>

    <div id="progress">
      <h1>GoldHEN 正在加载，请等待左上角弹出提示...</h1>
    </div>

    <div id="menu" style="display: none;">
      <div class="success">
        <h1 id="status_msg">GoldHEN 已激活。</h1>
      </div>
    </div>

    <pre id="console"></pre>
  </div>

  <script src="payload.js"></script>
  <script type="module" src="./alert.mjs"></script>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</body>
</html>
